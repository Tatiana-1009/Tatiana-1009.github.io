from selenium import webdriver
from selenium.webdriver.common.by import By
import time

PAGE_URL = "https://slqamsk.github.io/tmp/xPath01.html"

def test_page_title():
    driver = webdriver.Chrome()
    driver.get(PAGE_URL)
    element = driver.find_element(By.XPATH, "//h1")
    assert element.text == "Учебная страница для XPath"

def test_special_paragraph1():
    driver = webdriver.Chrome()
    driver.get(PAGE_URL)
    element = driver.find_element(By.XPATH, "//p[@class='special-paragraph']")
    assert element.text == ("Этот параграф особенный - он единственный на странице с таким классом.")

def test_special_paragraph2():
    driver = webdriver.Chrome()
    driver.get(PAGE_URL)
    element = driver.find_element(By.XPATH, "//p[@class='info-text']")
    assert element.text == "Это первый информационный текст."

def test_info_texts_count():
    driver = webdriver.Chrome()
    driver.get(PAGE_URL)
    elements = driver.find_elements(By.XPATH, "//p[@class='info-text']")
    assert len(elements) == 3
    print("всего элементов: ", len(elements))

def test_external_links1():
    driver = webdriver.Chrome()
    driver.get(PAGE_URL)
    elements = driver.find_elements(By.XPATH, "//a[@class='external-link']")
    assert len(elements) == 2
    print("всего элементов: ", len(elements))

def test_external_links2():
    driver = webdriver.Chrome()
    driver.get(PAGE_URL)
    element = driver.find_element(By.XPATH, "//a[@class='external-link']")
    assert element.text == "Внешняя ссылка (Example)"

def test_external_links3():
    driver = webdriver.Chrome()
    driver.get(PAGE_URL)
    elements = driver.find_elements(By.XPATH, "//a[@class='external-link']")
    assert elements[1].text == "Внешняя ссылка (Google)"

def test_order_pizzas():
    driver = webdriver.Chrome()
    driver.get(PAGE_URL)
    driver.find_element(By.XPATH, "//input[@id='pizza2']").click()
    driver.find_element(By.XPATH, "//input[@id='pizza4']").click()

    time.sleep(5)

    element = driver.find_element(By.XPATH, "//input[@id='name']")
    element.send_keys('Сидоров Илья')
    element1 = driver.find_element(By.XPATH, "//input[@id='email']")
    element1.send_keys('Sidorov@mail.ru')
    time.sleep(5)
    driver.find_element(By.XPATH, "//button[@type='submit']").click()

    element = driver.find_element(By.XPATH, "//div[@id='message']")
    assert "Пепперони" in element.text
    assert "Четыре сыра" in element.text
    assert "Маргарита" not in element.text
    assert "Гавайская" not in element.text
    assert "Вегетарианская" not in element.text
    time.sleep(5)

    driver.quit()
